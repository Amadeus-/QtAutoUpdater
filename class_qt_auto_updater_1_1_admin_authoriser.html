<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QtAutoUpdater: QtAutoUpdater::AdminAuthoriser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="display: inline;">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QtAutoUpdater
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
   <div id="projectbrief">A Qt library to automatically check for updates and install them</div>
  </td>
 </tr>
 </tbody>
</table>
<a style="float: right;" target="_blank"  href="https://github.com/Skycoder42/QtAutoUpdater">
<img style="padding: 10px;" src="GitHub_Logo.png"/>
</a>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_qt_auto_updater.html">QtAutoUpdater</a></li><li class="navelem"><a class="el" href="class_qt_auto_updater_1_1_admin_authoriser.html">AdminAuthoriser</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_qt_auto_updater_1_1_admin_authoriser-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QtAutoUpdater::AdminAuthoriser Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>An interface to run programs with elevated rights.  
 <a href="class_qt_auto_updater_1_1_admin_authoriser.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="adminauthoriser_8h_source.html">adminauthoriser.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71fa6a5ba3cee8eb2f4d095539a74139"><td class="memItemLeft" align="right" valign="top"><a id="a71fa6a5ba3cee8eb2f4d095539a74139"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_auto_updater_1_1_admin_authoriser.html#a71fa6a5ba3cee8eb2f4d095539a74139">~AdminAuthoriser</a> ()</td></tr>
<tr class="memdesc:a71fa6a5ba3cee8eb2f4d095539a74139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor. <br /></td></tr>
<tr class="separator:a71fa6a5ba3cee8eb2f4d095539a74139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1271ea824ad19a7442745c6cb79a4ac"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_auto_updater_1_1_admin_authoriser.html#af1271ea824ad19a7442745c6cb79a4ac">hasAdminRights</a> ()=0</td></tr>
<tr class="memdesc:af1271ea824ad19a7442745c6cb79a4ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests whether this program already has elevated rights or not.  <a href="#af1271ea824ad19a7442745c6cb79a4ac">More...</a><br /></td></tr>
<tr class="separator:af1271ea824ad19a7442745c6cb79a4ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2da8f9983fa25c331394ff82c61034"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_qt_auto_updater_1_1_admin_authoriser.html#a6d2da8f9983fa25c331394ff82c61034">executeAsAdmin</a> (const <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qstring.html">QString</a> &amp;program, const <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qstringlist.html">QStringList</a> &amp;arguments)=0</td></tr>
<tr class="memdesc:a6d2da8f9983fa25c331394ff82c61034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a program with the given arguments with elevated rights.  <a href="#a6d2da8f9983fa25c331394ff82c61034">More...</a><br /></td></tr>
<tr class="separator:a6d2da8f9983fa25c331394ff82c61034"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An interface to run programs with elevated rights. </p>
<p>The <a class="el" href="class_qt_auto_updater_1_1_admin_authoriser.html" title="An interface to run programs with elevated rights. ">AdminAuthoriser</a>'s task is to run a program with elevated rigths. Since the way to archive this is different on every platform, the authoriser is an interface. Because the "default" way to gain elevated privilegs is doing so by using a GUI, the default implementation is done in the AutoUpdaterWidgets library. If you intend to use the core library only, you will have to implement admin-authorisation yourself (if you require it)</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_qt_auto_updater_1_1_updater.html#ab23679ad18072646028085b9e77ecc0d" title="Runs the maintenancetool as updater on exit, using the given admin authorisation. ...">Updater::runUpdaterOnExit(AdminAuthoriser *)</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="adminauthoriser_8h_source.html#l00013">13</a> of file <a class="el" href="adminauthoriser_8h_source.html">adminauthoriser.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6d2da8f9983fa25c331394ff82c61034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d2da8f9983fa25c331394ff82c61034">&#9670;&nbsp;</a></span>executeAsAdmin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QtAutoUpdater::AdminAuthoriser::executeAsAdmin </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qstring.html">QString</a> &amp;&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qstringlist.html">QStringList</a> &amp;&#160;</td>
          <td class="paramname"><em>arguments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs a program with the given arguments with elevated rights. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">program</td><td>The path to the executable. This will be an absolute path </td></tr>
    <tr><td class="paramname">arguments</td><td>A list of arguments to be passed to the executable. Can be empty </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code>, if the program could be started with <b>elevated rights</b>, <code>false</code> if not</dd></dl>
<p>The actual elevation and execution should be done using this function. Please note that it's possible that this function is called while the <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qcoreapplication.html">QCoreApplication</a> is shutting down. If <code>false</code> is returned, no error will be shown to the user. If you want to do so, do it inside that function.</p>
<dl class="section note"><dt>Note</dt><dd><code>program</code> will return an absolute path using normal slashes <code>/</code>, even on windows. If you need to use native APIs, get the correct path using <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qdir.html#toNativeSeparators">QDir::toNativeSeparators</a>. </dd></dl>

</div>
</div>
<a id="af1271ea824ad19a7442745c6cb79a4ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1271ea824ad19a7442745c6cb79a4ac">&#9670;&nbsp;</a></span>hasAdminRights()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QtAutoUpdater::AdminAuthoriser::hasAdminRights </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests whether this program already has elevated rights or not. </p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code>, if this program does have elevated rights, <code>false</code> if not</dd></dl>
<p>If <code>true</code> is returned, the updater assumes that by starting a normal <a class="elRef" target="_blank" doxygen="/home/sky/Qt/Docs/Qt-5.8/qtcore/qtcore.tags:https://doc.qt.io/qt-5/" href="https://doc.qt.io/qt-5/qprocess.html">QProcess</a> the launched process will inherit this elevation and will be elevated too. If thats not the case, return <code>false</code>. The updater will call <a class="el" href="class_qt_auto_updater_1_1_admin_authoriser.html#a6d2da8f9983fa25c331394ff82c61034" title="Runs a program with the given arguments with elevated rights. ">AdminAuthoriser::executeAsAdmin</a> instead. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="adminauthoriser_8h_source.html">adminauthoriser.h</a></li>
<li>adminauthoriser.dox</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 13 2017 18:02:18 for QtAutoUpdater by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
